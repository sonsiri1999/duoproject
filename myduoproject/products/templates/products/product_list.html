{% extends "base.html" %}

{% block title %}รายการสินค้า Pre-order{% endblock %}

{% block content %}
<div class="bg-white p-6 rounded-lg shadow-xl">
    <h1 class="text-3xl font-extrabold text-gray-900 mb-6 border-b pb-2">สินค้าสำหรับ Pre-order</h1>

    {% if products %}
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            {% for product in products %}
            <div class="border border-gray-200 rounded-lg overflow-hidden transition duration-300 hover:shadow-lg">
                
                <div class="bg-gray-100 h-48 flex items-center justify-center">
                    {% if product.image %}
                        <img 
                            src="{{ product.image.url }}" 
                            alt="{{ product.name }}" 
                            class="w-full h-full object-cover transition duration-300 hover:scale-105" 
                        >
                    {% else %}
                        <img 
                            src="https://placehold.co/400x300/a5b4fc/ffffff?text=Product+Image+Missing" 
                            alt="No Image Available for {{ product.name }}" 
                            class="w-full h-full object-cover"
                        >
                    {% endif %}
                </div>
                
                <div class="p-4">
                    <h2 class="text-xl font-semibold text-gray-800 truncate mb-1">{{ product.name }}</h2>
                    <p class="text-sm text-indigo-600 font-medium mb-3">
                        สถานะ: <span class="font-bold">{{ product.get_status_display }}</span>
                    </p>
                    <p class="text-gray-600 text-sm mb-4 line-clamp-2">{{ product.description|truncatechars:100 }}</p>
                    
                    <a href="{% url 'products:product_detail' slug=product.slug %}"
                       class="w-full block text-center bg-indigo-500 text-white py-2 rounded-md hover:bg-indigo-600 transition duration-150 font-medium">
                        ดูรายละเอียด/สั่งซื้อ
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-center text-gray-500 text-lg py-10">ขออภัย ยังไม่มีสินค้า Pre-order ในขณะนี้</p>
    {% endif %}
</div>
{% endblock %}